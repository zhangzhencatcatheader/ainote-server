spring:
  datasource:
    driver-class-name: org.postgresql.Driver
    url: jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${DB_NAME:ainote}
    username: ${DB_USERNAME:postgres}
    password: ${DB_PASSWORD:postgres}

  redis:
    host: ${REDIS_HOST:localhost}
    port: ${REDIS_PORT:6379}
    password: ${REDIS_PASSWORD:}

  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

  ai:
    dashscope:
      api-key: ${DASHSCOPE_API_KEY:}
      chat:
        options:
          model: ${DASHSCOPE_CHAT_MODEL:qwen-plus}

aliyun:
  oss:
    endpoint: ${ALIYUN_OSS_ENDPOINT:https://oss-cn-hangzhou.aliyuncs.com}
    access-key-id: ${ALIYUN_ACCESS_KEY_ID:}
    access-key-secret: ${ALIYUN_ACCESS_KEY_SECRET:}
    bucket-name: ${ALIYUN_OSS_BUCKET:}
  pnvs:
    sms:
      region: ${ALIYUN_PNVS_SMS_REGION:cn-shanghai}
      endpoint: ${ALIYUN_PNVS_SMS_ENDPOINT:dypnsapi.aliyuncs.com}
      access-key-id: ${ALIYUN_PNVS_ACCESS_KEY_ID:}
      access-key-secret: ${ALIYUN_PNVS_ACCESS_KEY_SECRET:}
      sign-name: ${ALIYUN_PNVS_SMS_SIGN_NAME:}
      template-code: ${ALIYUN_PNVS_SMS_TEMPLATE_CODE:}
      code-length: ${ALIYUN_PNVS_SMS_CODE_LENGTH:4}
      valid-time-seconds: ${ALIYUN_PNVS_SMS_VALID_TIME_SECONDS:300}
      min-send-interval-seconds: ${ALIYUN_PNVS_SMS_MIN_SEND_INTERVAL_SECONDS:60}

jimmer:
  language: kotlin
  offset-optimizing-threshold: 10
  id-only-target-checking-level: ALL
  database-validation-mode: ERROR
  show-sql: true
  pretty-sql: true
  trigger-type: TRANSACTION_ONLY
  transaction-cache-operator-fixed-delay: 5000
  dialect: org.babyfish.jimmer.sql.dialect.PostgresDialect
  
  client:
    ts:
      path: /ts.zip
    openapi:
      path: /openapi.yml
      ui-path: /openapi.html
      properties:
        info:
          title: Ainote Server REST API
          description: Ainote Server REST API Documentation
          version: 1.0.0
        securities:
          - bearerAuth: [ ]
        components:
          securitySchemes:
            bearerAuth:
              type: http
              scheme: bearer
              bearerFormat: JWT
              description: 'JWT认证Token，格式：Bearer {token}'

server:
  port: ${SERVER_PORT:8080}


jwt:
  secret: Nobody likes you, everyone left you. They're all out without you, having fun
  expiration: 86400000